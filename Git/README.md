# Git 

版本管理程序

## 首次使用

- 配置用户名和邮箱

  ```
  git config --global user.name "用户名"
  git config --global user.email "邮箱"
  ```

## 基础操作

- 初始化仓库

  进入仓库目录，使用 `git init` 命令，会在当前目录下生成一个隐藏的 `.git` 文件夹。

- 添加文件到缓存区

  使用  `git add .` 命令将所有已修改文件添加入缓存区，可以使用具体文件名替换 “.” 来添加指定文件。

- 添加提交说明

  `git commit -m "信息"`，只有先添加提交说明才能把本次提交上传至 Github。

- 查看工作区状态

  `git status`，只有工作树是干净的时候才能执行上传操作。

- 查看历史提交

  `git log`，可以查看历史提交数目与详细信息，包含本次提交的版本的 ID。

- 版本回滚

  `git reset`，将暂存区回滚至指定版本，后面可以加版本 ID 前几位或者 `HEAD~`，波浪线数量或者波浪线后加数字表示回滚到 HEAD 前的第几个版本，`HEAD~` 表示回滚到上一个版本。

  `git reset --hard HEAD~` 会将当前的工作区一起回滚，若当前工作区没有保存则会完全丢失，小心使用。

- 查看改动

  `git diff` 可查看工作区与缓存区中间的不同之处。

- 修改提交说明

  `git commit --amend` 会进入 vim 的修改模式，然后修改最后一次的提交说明。

  `git commit --amend -m "新的说明"` 会直接覆盖最后一次提交的提交说明。

- 文件恢复

  再添加入暂存区后不小心删除了本地的文件，可以从暂存区直接恢复回来，使用 `git checkout -- <file>` 命令。

- 删除文件

  `git rm <file>` 可以删除工作区和暂存区的文件，取消文件跟踪，在下次提交不被纳入版本管理中，但是被删除的文件依然在提交记录中。

  删除文件之后使用 `git reset --soft HEAD~` 可以将记录指针指向上一个快照版本。

  当工作区与暂存区的文件存在差异时：

  `git rm -f <file>` 同时删除工作区与暂存区的文件。

  `git rm --cached <file>` 只删除暂存区的文件。

- 修改文件名

  `git mv <oldname> <newname>` 可以修改文件名。

## 分支

- 创建分支

  `git branch <分支名称>` 可以创建新的分支。

- 切换分支

  `git checkout <分支名>` 可以切换至已存在的分支。